<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hsiu-Chi Lu (呂修齊) Homepage</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- D3.js for the visualization and simulation -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <!-- Google Fonts: Noto Sans TC for Taiwanese characters and Poppins for a modern feel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Feather Icons for simple, clean icons -->
    <script src="https://unpkg.com/feather-icons"></script>

    <style>
        /* Custom CSS for font families and color palette */
        body {
            font-family: 'Poppins', 'Noto Sans TC', sans-serif;
            scroll-behavior: smooth;
        }

        /* Custom Taiwanese-inspired color palette with yellow */
        :root {
            --taiwan-yellow: #DAA520; /* A golden yellow inspired by rice fields or lanterns */
            --taiwan-dark: #333333; /* A dark gray reminiscent of roof tiles */
            --taiwan-light-bg: #F8F7F2; /* A warm, off-white background */
        }

        .text-taiwan-yellow { color: var(--taiwan-yellow); }
        .bg-taiwan-yellow { background-color: var(--taiwan-yellow); }
        .border-taiwan-yellow { border-color: var(--taiwan-yellow); }
        
        .text-taiwan-dark { color: var(--taiwan-dark); }
        .bg-taiwan-dark { background-color: var(--taiwan-dark); }

        .bg-taiwan-light { background-color: var(--taiwan-light-bg); }

        /* Smooth transition for links */
        .nav-link {
            transition: color 0.3s ease;
        }
        
        /* Add padding to sections for the fixed header */
        section {
            padding-top: 5rem;
            margin-top: -4rem;
        }
        
        /* Styles for expandable section */
        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
            opacity: 0;
        }
        .expandable-content.expanded {
            max-height: 1000px; /* Large enough value */
            opacity: 1;
        }
        .toggle-expand-btn svg {
            transition: transform 0.3s ease;
        }

        /* Styles for the D3 simulation */
        .simulation-container {
            width: 100%;
            height: 600px;
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border: 1px solid #e2e8f0;
            cursor: grab;
        }
        .node {
            fill: var(--taiwan-yellow);
            stroke: var(--taiwan-dark);
            stroke-width: 2px;
        }
        .link {
            stroke: #9ca3af;
            stroke-opacity: 0.6;
        }
        /* Style for the slider */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]:focus {
            outline: none;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: #e2e8f0;
            border-radius: 5px;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: var(--taiwan-yellow);
            cursor: pointer;
            margin-top: -6px;
        }
        .model-btn.active {
            background-color: var(--taiwan-yellow);
            color: white;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-taiwan-light text-taiwan-dark">

    <!-- Header and Navigation -->
    <header class="bg-white/80 backdrop-blur-lg shadow-sm fixed w-full z-50 transition-all duration-300">
        <div class="container mx-auto flex justify-between items-center p-4 md:px-8">
            <a href="#home" class="text-xl md:text-2xl font-bold text-taiwan-yellow">
                Hsiu-Chi Lu | 呂修齊
            </a>
            <nav class="hidden md:flex items-center space-x-6 text-base font-medium">
                <a href="#about" class="nav-link text-gray-700 hover:text-taiwan-yellow">About</a>
                <a href="publications.html" class="nav-link text-gray-700 hover:text-taiwan-yellow">Publications</a>
                <a href="#contact" class="nav-link bg-taiwan-yellow text-white px-4 py-2 rounded-full hover:bg-opacity-90 transition-colors">Contact</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden">
                <i data-feather="menu" class="text-taiwan-dark"></i>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white p-4">
             <a href="#about" class="block py-2 text-center nav-link text-gray-700 hover:text-taiwan-yellow">About</a>
             <a href="publications.html" class="block py-2 text-center nav-link text-gray-700 hover:text-taiwan-yellow">Publications</a>
             <a href="#contact" class="block mt-2 py-2 text-center nav-link bg-taiwan-yellow text-white rounded-full hover:bg-opacity-90 transition-colors">Contact</a>
        </div>
    </header>

    <main id="home" class="container mx-auto px-6 md:px-12 pt-24">

        <!-- Hero Section -->
        <section id="about" class="min-h-[80vh] flex items-center">
            <div class="grid grid-cols-1 md:grid-cols-5 gap-8 items-center">
                <div class="md:col-span-3 text-center md:text-left">
                    <h1 class="text-4xl md:text-6xl font-bold text-taiwan-dark leading-tight">
                       I am <br>Hsiu-Chi Lu<br> (呂修齊)
                    </h1>
                    <p class="mt-6 text-lg text-gray-600 max-w-2xl">
                        I am a network scientist from Taiwan and an incoming PhD student at Northeastern University, where I will be advised by <a href="https://www.lazerlab.net/people/david-lazer" rel="external nofollow noopener" target="_blank" class="text-taiwan-yellow hover:underline">Prof. David Lazer</a>. Previously, I received my Master's degree from National Chengchi University, mentored by <a href="https://sites.google.com/view/hsuanweilee/home" rel="external nofollow noopener" target="_blank" class="text-taiwan-yellow hover:underline">Prof. Hsuan-Wei Lee</a> and <a href="https://sociology.nccu.edu.tw/PageStaffing/Detail?fid=588&id=781" rel="external nofollow noopener" target="_blank" class="text-taiwan-yellow hover:underline">Prof. Jen-Hao Chen</a>.
                    </p>
                    <p class="mt-4 text-lg text-gray-600 max-w-2xl">
                        My research integrates computational social science and network science to address pressing digital challenges. I focus on understanding and mitigating issues like online polarization and the spread of misinformation by applying interdisciplinary methods from computer science, mathematics, and the social sciences.
                    </p>
                    <p class="mt-4 text-lg text-gray-600 max-w-2xl">
                        I welcome inquiries about my work and potential collaborations.
                    </p>
                    <div class="mt-8 flex justify-center md:justify-start space-x-4">
                        <a href="publications.html" class="bg-taiwan-yellow text-white font-semibold px-6 py-3 rounded-full shadow-lg hover:scale-105 transform transition-transform">Explore My Research</a>
                        <a href="cv.pdf" target="_blank" class="bg-gray-200 text-taiwan-dark font-semibold px-6 py-3 rounded-full shadow-lg hover:scale-105 transform transition-transform">View CV</a>
                    </div>
                    <div class="mt-8 border-t pt-4 max-w-2xl">
                        <button class="toggle-expand-btn text-gray-600 hover:text-taiwan-yellow font-semibold flex items-center w-full text-left">
                            <span class="mr-1">More About Me</span>
                            <i data-feather="chevron-down" class="w-4 h-4"></i>
                        </button>
                        <div class="expandable-content mt-2 text-gray-600">
                            <p>I believe in transparently sharing the setbacks that are an integral part of the academic journey. See <a href="cv_of_failures.html" class="text-taiwan-yellow hover:underline">My Failures</a> for the list of my failures
                        </div>
                    </div>
                </div>
                <div class="md:col-span-2 flex justify-center">
                    <div class="bg-white p-4 rounded-full shadow-2xl">
                        <img src="profile.JPG" alt="Hsiu-Chi Lu" class="w-64 h-64 md:w-80 md:h-80 rounded-full object-cover border-4 border-taiwan-yellow">
                    </div>
                </div>
            </div>
        </section>

        <!-- News Section -->
        <section id="news" class="py-20">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-4xl font-bold text-center mb-12 text-taiwan-dark">Recent News</h2>
                <div class="space-y-8">
                    <!-- News Item 1 -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0 w-24 text-right">
                            <p class="font-semibold text-taiwan-dark">Sep. 2025</p>
                        </div>
                        <div class="border-l-2 border-taiwan-yellow pl-4">
                            <p>Excited to start my PhD journey in Network Science at Northeastern University!</p>
                        </div>
                    </div>
                    <!-- News Item 2 -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0 w-24 text-right">
                            <p class="font-semibold text-taiwan-dark">Jun. 2025</p>
                        </div>
                        <div class="border-l-2 border-taiwan-yellow pl-4">
                            <p>Being over the moon about compeleting my Military Service!!!</p>
                        </div>
                    </div>
                    <!-- News Item 3 -->
                    <div class="flex items-start space-x-4">
                        <div class="flex-shrink-0 w-24 text-right">
                            <p class="font-semibold text-taiwan-dark">Feb. 2025</p>
                        </div>
                        <div class="border-l-2 border-taiwan-yellow pl-4">
                            <p>Starting my military journey with sorrow.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Interactive Simulation Section -->
        <section id="simulation" class="py-20">
            <div class="w-full max-w-4xl mx-auto text-center">
                <h2 class="text-4xl font-bold text-taiwan-dark">Interactive Network Models</h2>
                <p class="text-lg text-gray-600 mt-2">Choose a model to explore fundamental concepts in network science.</p>
                
                <div class="my-6">
                    <!-- Model Selection Buttons -->
                    <div class="inline-flex rounded-lg shadow-sm" role="group">
                        <button id="small-world-btn" type="button" class="model-btn active rounded-l-lg border border-gray-200 bg-white text-sm font-medium px-4 py-2 text-gray-900 hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-yellow-500">
                            Small-World
                        </button>
                        <button id="scale-free-btn" type="button" class="model-btn -ml-px border border-gray-200 bg-white text-sm font-medium px-4 py-2 text-gray-900 hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-yellow-500">
                            Scale-Free
                        </button>
                        <button id="reset-btn" class="rounded-r-lg border border-gray-200 bg-gray-200 text-sm font-medium px-4 py-2 text-gray-800 hover:bg-gray-300 focus:z-10 focus:ring-2 focus:ring-yellow-500">
                            Reset
                        </button>
                    </div>

                    <!-- Contextual Controls -->
                    <div id="controls-container" class="mt-4 h-12 flex items-center justify-center">
                        <div id="small-world-controls" class="flex items-center justify-center space-x-4 w-full">
                            <label for="rewire-slider" class="font-semibold">Rewire Probability (p):</label>
                            <input id="rewire-slider" type="range" min="0" max="1" step="0.01" value="0" class="w-64">
                            <span id="p-value" class="font-mono font-semibold w-12">0.00</span>
                        </div>
                        <div id="scale-free-controls" class="hidden w-full">
                             <button id="add-node-btn" class="bg-taiwan-yellow text-white font-semibold px-6 py-2 rounded-full shadow-lg hover:bg-opacity-90 transform transition-all hover:scale-105">
                                Add a Node
                            </button>
                        </div>
                    </div>
                    
                    <!-- Network Stats Display -->
                     <div id="stats-container" class="mt-4 h-6 text-sm text-gray-600">
                        <span>Average Path Length: <strong id="avg-path-length-val" class="font-mono text-lg text-taiwan-dark">...</strong></span>
                    </div>
                </div>
        
                <!-- This is where the D3 simulation will be rendered -->
                <div id="simulation-canvas" class="simulation-container"></div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-taiwan-dark text-white mt-20">
        <div id="contact" class="container mx-auto py-12 px-6 md:px-12 text-center">
            <h3 class="text-3xl font-bold mb-4">Get In Touch</h3>
            <p class="text-gray-300 mb-6 max-w-lg mx-auto">I'm open to collaborations and discussions. Feel free to reach out via email or connect with me on professional networks.</p>
            <div class="flex justify-center space-x-6 mt-6">
                <a href="mailto:hsiuchilu0528@gmail.com" class="text-gray-300 hover:text-taiwan-yellow transition-colors"><i data-feather="mail" class="w-8 h-8"></i></a>
                <a href="https://x.com/lushu0528" class="text-gray-300 hover:text-taiwan-yellow transition-colors"><i data-feather="twitter" class="w-8 h-8"></i></a>
                <a href="https://www.linkedin.com/in/hsiu-chi-lu-945825283" class="text-gray-300 hover:text-taiwan-yellow transition-colors"><i data-feather="linkedin" class="w-8 h-8"></i></a>
                <a href="https://scholar.google.com.tw/citations?user=BRiVz5oAAAAJ&hl=en&authuser=1" class="text-gray-300 hover:text-taiwan-yellow transition-colors" title="Google Scholar">
                    <!-- Google Scholar Icon (Graduation Cap) -->
                    <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 10v6M2 10l10-5 10 5-10 5-10-5z"></path>
                        <path d="M6 12v5c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2v-5"></path>
                    </svg>
                </a>
            </div>
            <div class="mt-12 border-t border-gray-700 pt-8">
                <p>&copy; 2024 Hsiu-Chi Lu (呂修齊). All rights reserved.</p>
                <p class="text-sm text-gray-500 mt-2">Designed with inspiration from Taiwan.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Call feather icons
            feather.replace();

            // Mobile menu toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // Expandable "More About Me" section
            const toggleBtn = document.querySelector('.toggle-expand-btn');
            if (toggleBtn) {
                const content = toggleBtn.nextElementSibling;
                const icon = toggleBtn.querySelector('svg');
                toggleBtn.addEventListener('click', () => {
                    content.classList.toggle('expanded');
                    if (content.classList.contains('expanded')) {
                        icon.style.transform = 'rotate(180deg)';
                    } else {
                        icon.style.transform = 'rotate(0deg)';
                    }
                });
            }

            // --- D3.js Network Simulation Script ---
            const simContainer = document.getElementById('simulation-canvas');
            if (simContainer) {
                let currentModel = 'small-world'; // 'small-world' or 'scale-free'

                const width = simContainer.clientWidth;
                const height = simContainer.clientHeight;

                const svg = d3.select("#simulation-canvas")
                    .append("svg")
                    .attr("width", width)
                    .attr("height", height)
                    .call(d3.zoom().on("zoom", (event) => g.attr("transform", event.transform)))
                    .append("g");
                
                const g = svg.append("g");

                const simulation = d3.forceSimulation()
                    .force("link", d3.forceLink().id(d => d.id))
                    .force("charge", d3.forceManyBody().strength(-120))
                    .force("center", d3.forceCenter(width / 2, height / 2));

                let nodes = [];
                let links = [];
                let link, node;
                
                // --- Path Length Calculation ---
                function calculateAveragePathLength(nodes, links) {
                    if (nodes.length < 2) return 0;

                    const N = nodes.length;
                    const adj = new Map();
                    nodes.forEach(node => adj.set(node.id, []));
                    links.forEach(link => {
                        const sourceId = link.source.id ?? link.source;
                        const targetId = link.target.id ?? link.target;
                        adj.get(sourceId).push(targetId);
                        adj.get(targetId).push(sourceId);
                    });

                    let totalDistance = 0;

                    for (const startNode of nodes) {
                        const startNodeId = startNode.id;
                        const distances = new Map();
                        nodes.forEach(n => distances.set(n.id, Infinity));
                        distances.set(startNodeId, 0);

                        const queue = [startNodeId];
                        let head = 0;

                        while (head < queue.length) {
                            const u = queue[head++];
                            const neighbors = adj.get(u);
                            for (const v of neighbors) {
                                if (distances.get(v) === Infinity) {
                                    distances.set(v, distances.get(u) + 1);
                                    queue.push(v);
                                }
                            }
                        }
                        
                        let sumOfDistances = 0;
                        let isConnected = true;
                        distances.forEach(dist => {
                            if (dist === Infinity) {
                                isConnected = false;
                            } else {
                                sumOfDistances += dist;
                            }
                        });

                        if (!isConnected) return Infinity; // Graph is not connected

                        totalDistance += sumOfDistances;
                    }
                    
                    return totalDistance / (N * (N - 1));
                }

                // --- Model Generation Functions ---
                function createSmallWorldNetwork(p = 0) {
                    const N = 40; // Number of nodes
                    const K = 4;  // Number of nearest neighbors
                    nodes = d3.range(N).map(i => ({id: i}));
                    links = [];
                    for (let i = 0; i < N; i++) {
                        for (let j = 1; j <= K / 2; j++) {
                            const target = (i + j) % N;
                            links.push({source: i, target: target});
                        }
                    }
                    // Rewire logic
                    for (const link of links) {
                        if (Math.random() < p) {
                            const sourceNode = link.source;
                            let newTarget;
                            do {
                                newTarget = Math.floor(Math.random() * N);
                            } while (newTarget === sourceNode || links.some(l => (l.source === sourceNode && l.target === newTarget) || (l.source === newTarget && l.target === sourceNode)));
                            link.target = newTarget;
                        }
                    }
                    simulation.force("link").distance(30).strength(0.5);
                    update();
                }

                function createScaleFreeNetwork() {
                    nodes = [{ id: 0, degree: 1 }, { id: 1, degree: 1 }];
                    links = [{ source: 0, target: 1 }];
                    simulation.force("link").distance(50).strength(1);
                    update();
                }

                function addScaleFreeNode() {
                    if (currentModel !== 'scale-free' || nodes.length >= 100) return;
                    const newNodeId = nodes.length;
                    const newNode = { id: newNodeId, degree: 0 };
                    
                    const targets = [];
                    nodes.forEach(n => {
                        for (let i = 0; i < n.degree; i++) {
                            targets.push(n.id);
                        }
                    });

                    if (targets.length > 0) {
                        const targetNodeId = targets[Math.floor(Math.random() * targets.length)];
                        const targetNode = nodes.find(n => n.id === targetNodeId);
                        nodes.push(newNode);
                        links.push({ source: newNodeId, target: targetNodeId });
                        newNode.degree++;
                        targetNode.degree++;
                        update();
                    }
                }

                // --- D3 Update and Drawing ---
                function update() {
                    link = g.selectAll(".link").data(links, d => `${d.source.id}-${d.target.id}`);
                    link.exit().remove();
                    const linkEnter = link.enter().append("line").attr("class", "link");
                    link = linkEnter.merge(link);

                    node = g.selectAll(".node").data(nodes, d => d.id);
                    node.exit().remove();
                    const nodeEnter = node.enter().append("circle")
                        .attr("class", "node")
                        .call(d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended));
                    nodeEnter.append("title").text(d => `Node ID: ${d.id}`);
                    node = nodeEnter.merge(node);
                    
                    node.transition().duration(200)
                        .attr("r", d => currentModel === 'scale-free' ? 5 + Math.sqrt(d.degree) * 2 : 6);

                    simulation.nodes(nodes).on("tick", ticked);
                    simulation.force("link").links(links);
                    simulation.alpha(1).restart();
                    
                    // Calculate and display stats
                    const avgPathLength = calculateAveragePathLength(nodes, links);
                    const statsDisplay = document.getElementById("avg-path-length-val");
                    if (avgPathLength === Infinity) {
                        statsDisplay.textContent = "N/A";
                    } else {
                        statsDisplay.textContent = avgPathLength.toFixed(2);
                    }
                }

                function ticked() {
                    link.attr("x1", d => d.source.x).attr("y1", d => d.source.y)
                        .attr("x2", d => d.target.x).attr("y2", d => d.target.y);
                    node.attr("cx", d => d.x).attr("cy", d => d.y);
                }

                // --- UI Controls ---
                const smallWorldBtn = document.getElementById("small-world-btn");
                const scaleFreeBtn = document.getElementById("scale-free-btn");
                const smallWorldControls = document.getElementById("small-world-controls");
                const scaleFreeControls = document.getElementById("scale-free-controls");
                const slider = document.getElementById("rewire-slider");
                const pValueSpan = document.getElementById("p-value");

                function setModel(model) {
                    currentModel = model;
                    if (model === 'small-world') {
                        smallWorldBtn.classList.add('active');
                        scaleFreeBtn.classList.remove('active');
                        smallWorldControls.classList.remove('hidden');
                        scaleFreeControls.classList.add('hidden');
                        slider.value = 0;
                        pValueSpan.textContent = "0.00";
                        createSmallWorldNetwork(0);
                    } else { // scale-free
                        scaleFreeBtn.classList.add('active');
                        smallWorldBtn.classList.remove('active');
                        scaleFreeControls.classList.remove('hidden');
                        smallWorldControls.classList.add('hidden');
                        createScaleFreeNetwork();
                    }
                }

                smallWorldBtn.addEventListener('click', () => setModel('small-world'));
                scaleFreeBtn.addEventListener('click', () => setModel('scale-free'));
                document.getElementById("add-node-btn").addEventListener("click", addScaleFreeNode);
                document.getElementById("reset-btn").addEventListener("click", () => setModel(currentModel));
                slider.addEventListener("input", (event) => {
                    const p = +event.target.value;
                    pValueSpan.textContent = p.toFixed(2);
                    createSmallWorldNetwork(p);
                });

                // --- Drag Functions ---
                function dragstarted(event, d) {
                    if (!event.active) simulation.alphaTarget(0.3).restart();
                    d.fx = d.x;
                    d.fy = d.y;
                }
                function dragged(event, d) {
                    d.fx = event.x;
                    d.fy = event.y;
                }
                function dragended(event, d) {
                    if (!event.active) simulation.alphaTarget(0);
                    d.fx = null;
                    d.fy = null;
                }

                // Initial setup
                setModel('small-world');
            }
        });
    </script>

</body>
</html>
